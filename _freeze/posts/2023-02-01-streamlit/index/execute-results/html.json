{
  "hash": "4133878c0f5f02e17c714d6236fb9333",
  "result": {
    "markdown": "---\ntitle: Python Streamlit íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•œ ëŒ€ì‹œë³´ë“œ ë§Œë“¤ê¸°\nauthor: Kim Won\ndescription: |\n  streamlit íŒ¨í‚¤ì§€ì˜ ì‚¬ìš©ë°©ë²•ì„ ì•Œì•„ë³´ì\ncategories:\n  - python\n  - streamlit\ndate: 02-01-2023\ndraft: false\nformat:\n  html:\n    code-fold: false\nimage: logo.jpeg\nnumber-sections: true\n---\n\n![](logo.jpeg)\n\n<https://docs.streamlit.io/library/api-reference> ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\n2023ë…„ 2ì›” ê¸°ì¤€) *streamlit version 1.17.0* ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n# Streamlit ì†Œê°œ\n\nì–¸ì œ ìŠ¤íŠ¸ë¦¼ë¦¿ì„ ì‚¬ìš©í•´ì•¼í• ì§€ ìŠ¤íŠ¸ë¦¼ë¦¿ì´ íƒ€ í”„ë ˆì„ì›Œí¬ì— ë¹„í•˜ì—¬ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì¥ì ì„ ë°”íƒ•ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ë³´ê² ìŠµë‹ˆë‹¤.\n\n![](src-1.png)\n\n1.  ë¹ ë¥´ê²Œ ê°œë°œì´ ê°€ëŠ¥í•˜ë‹¤ - ì›¹ê°œë°œê´€ë ¨ ì§€ì‹ì´ ë¶€ì¡±í•´ë„ ì‰½ê²Œ ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n\n2.  íŒŒì´ì¬ì—ì„œ ë¶„ì„í•œ ë‚´ìš©ì„ ì˜®ê¸¸ í•„ìš” ì—†ì´ ë°”ë¡œë°”ë¡œ ì›¹ì— ë„ìš¸ ìˆ˜ ìˆë‹¤. + ML/DL ì‚¬ìš©ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë§ë‹¤!\n\n3.  interactiveí•œ ì›¹ ê°œë°œì´ ê°€ëŠ¥í•˜ë‹¤. Dashboard ë§Œë“¤ê¸° ë“±\n\në‹¨ì  : ìŠ¤íŠ¸ë¦¼ë¦¿ìœ¼ë¡œ êµ¬í˜„í•œ ì›¹ì„ ë°”ë¡œ productë¡œ ì‚¬ìš©í•˜ê¸°ì—” ë‹¤ë“¬ì–´ì•¼ í•  ë¶€ë¶„ë“¤ì´ ë§ê³ , ë””í…Œì¼í•œ layout ì¡°ì •ë“±ì€ ì–´ë ¤ì›€ -\\> CSS hackì„ í†µí•´ ì¡°ì • ê°€ëŠ¥í•˜ë‹¤!\n\në‹¤ë¥¸ ëŒ€ì•ˆ : pyscriptë¼ëŠ” ê²ƒì´ ì¸ê¸°ë¥¼ ëŒê³  ìˆë‹¤. í•˜ì§€ë§Œ ì•„ì§ ë³´ì™„ë˜ì–´ì•¼ í•  ì ì´ ì •ë§ ë§ë‹¤.\n\n(html ì—ì„œ ì‘ë™í•˜ëŠ” python) <https://github.com/pyscript/pyscript>\n\n------------------------------------------------------------------------\n\n## streamlitê³¼ shiny ì˜ˆì œ ë¹„êµ\n\n-   streamlit í™œìš© ì‚¬ë¡€\n\n<https://streamlit.io/gallery>\n\n-   shiny í™œìš© ì‚¬ë¡€\n\n<https://shiny.rstudio.com/gallery/>\n\n</br>\n\n# Streamlit ë”°ë¼ í•´ë³´ê¸°\n\nStreamlitì— ì–´ë–¤ ê¸°ëŠ¥ì´ ìˆëŠ”ì§€ ë”°ë¼ ì³ë³´ë©´ì„œ í™•ì¸í•´ë³´ì.\n\n## ìŠ¤íŠ¸ë¦¼ë¦¿ ì„¤ì¹˜\n\níŒŒì´ì¬, ê°€ìƒí™˜ê²½ ì„¤ì¹˜ì™€ ê´€í•œ ë‚´ìš©ì€ ë‹¤ë¥¸ ê²Œì‹œë¬¼ì„ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n\n```{terminal}\npip install streamlit \n```\n\n\níŒŒì´ì¬ ê°€ìƒí™˜ê²½ì— streamlitíŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤\n\napp.pyë¥¼ ìƒì„±í•œ í›„ ë‹¤ìŒ ê³¼ ê°™ì´ ìˆ˜ì •í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code code-fold=\"false\"}\nimport streamlit as st\n\nst.title('Hello Streamlit')\n```\n:::\n\n\nì´í›„ í„°ë¯¸ë„ì—ì„œ\n\n\n```{bash}\nstreamlit run app.py \n```\n\n\nstreamlit run app.py ëª…ë ì–´ë¥¼ ì‹¤í–‰í•˜ë©´, ë¡œì»¬ì„œë²„ë¡œ í˜ì´ì§€ê°€ ë§Œë“¤ì–´ì§€ê²Œ ë©ë‹ˆë‹¤.\n\n![](src2-1.png)\n\n## ìŠ¤íŠ¸ë¦¼ë¦¿ ê¸°ëŠ¥ ì†Œê°œ\n\në” ìì„¸í•œ ë‚´ìš©ì€ <https://docs.streamlit.io/library/api-reference>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ê°•ì¡° ë¬¸êµ¬\n\n1.  title\n2.  header\n3.  subheader\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nimport streamlit as st\n\nst.title('this is title')\nst.header('this is header')\nst.subheader('this is subheader')\n```\n:::\n\n\n![](src-header.png)\n\nì œëª©ê³¼ í—¤ë”,ì„œë¸Œí—¤ë”ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n\n4.  etc\n\nì¶”ê°€ì ìœ¼ë¡œ Markdown ë¬¸ë²•ì„ st.markdownìœ¼ë¡œ, caption, Latex Code blockì„ í™œìš©ê°€ëŠ¥í•©ë‹ˆë‹¤\n\n</br>\n\n### layout ì§œê¸°\n\ní˜ì´ì§€ì˜ ê³µê°„ì„ ë ˆì´ì•„ì›ƒì„ í†µí•´ ì›¹í˜ì´ì§€ë¥¼ ë¶„í• í•  ìˆ˜ ìˆë‹¤.\n\n1.  column\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nimport streamlit as st\n\ncol1,col2 = st.columns([2,3])\n# ê³µê°„ì„ 2:3 ìœ¼ë¡œ ë¶„í• í•˜ì—¬ col1ê³¼ col2ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ì»¬ëŸ¼ì„ ìƒì„±í•©ë‹ˆë‹¤.  \n\nwith col1 :\n  # column 1 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column1')\nwith col2 :\n  # column 2 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column2')\n  st.checkbox('this is checkbox1 in col2 ')\n\n\n# with êµ¬ë¬¸ ë§ê³  ë‹¤ë¥´ê²Œ ì‚¬ìš© ê°€ëŠ¥ \ncol1.subheader(' i am column1  subheader !! ')\ncol2.checkbox('this is checkbox2 in col2 ') \n#=>ìœ„ì— with col2: ì•ˆì˜ ë‚´ìš©ê³¼ ê°™ì€ ê¸°ëŠ¥ì„í•©ë‹ˆë‹¤\n\n```\n:::\n\n\n</br>\n\nê²°ê³¼ë¬¼\n\n![](src-columns.png)\n\n2.  tab\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nimport streamlit as st\n\n# íƒ­ ìƒì„± : ì²«ë²ˆì§¸ íƒ­ì˜ ì´ë¦„ì€ Tab A ë¡œ, Tab Bë¡œ í‘œì‹œí•©ë‹ˆë‹¤. \ntab1, tab2= st.tabs(['Tab A' , 'Tab B'])\n\nwith tab1:\n  #tab A ë¥¼ ëˆ„ë¥´ë©´ í‘œì‹œë  ë‚´ìš©\n  st.write('hello')\n    \nwith tab2:\n  #tab Bë¥¼ ëˆ„ë¥´ë©´ í‘œì‹œë  ë‚´ìš© \n  st.write('hi')\n\n```\n:::\n\n\n</br> ë‹¤ìŒì„ ì‹¤í–‰í•˜ë©´ tab A ë¥¼ ëˆŒë €ì„ ê²½ìš° hello, tab Bë¥¼ ëˆŒë €ì„ ê²½ìš° hiê°€ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.\n\níƒ­ì˜ íŠ¹ì§•ìœ¼ë¡œëŠ”, íƒ­ì„ í´ë¦­ê³¼ ë™ì‹œì— ë°ì´í„°ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,íƒ­ì— í‘œì‹œë  ë°ì´í„°ê°€ ì´ë¯¸ ë§Œë“¤ì–´ì ¸ ì•˜ëŠ” ê²ƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤. ì¥ì ì´ ë  ìˆ˜ë„ ìˆê³ , ë‹¨ì ì´ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n![](src-tab1.png) ![](src-tab2.png)\n\n3.  sidebar\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nimport streamlit as st\n\n#st.sidebarëŠ” \n\nst.sidebar.title('this is sidebar')\nst.sidebar.checkbox('ì²´í¬ë°•ìŠ¤ì— í‘œì‹œë  ë¬¸êµ¬')\n# ì‚¬ì´ë“œë°”ì— ì²´í¬ë°•ìŠ¤, ë²„íŠ¼ë“± ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! \n```\n:::\n\n\n![](src-sidebar.png) ![](src-sidebar2.png)\n\n4.  etc\n\nì¶”ê°€ì ìœ¼ë¡œ Expander, Container ,Emptyê°€ ìˆìŠµë‹ˆë‹¤\n\n### ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nimport streamlit as st\nfrom PIL import Image\n\n#PIL íŒ¨í‚¤ì§€ì— ì´ë¯¸ì§€ ëª¨ë“ˆì„ í†µí•´ ì´ë¯¸ì§€ ì—´ê¸° \n# Image.open('ì´ë¯¸ì§€ ê²½ë¡œ')\nzarathu_img = Image.open('zarathu.png')\n\ncol1,col2 = st.columns([2,3])\n\nwith col1 :\n  # column 1 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column1')\nwith col2 :\n  # column 2 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column2')\n  st.checkbox('this is checkbox1 in col2 ')\n\n\n# ì»¬ëŸ¼2ì— ë¶ˆëŸ¬ì˜¨ ì‚¬ì§„ í‘œì‹œí•˜ê¸°\ncol2.image(zarathu_img)\n```\n:::\n\n\n</br>\n\n![](src-image.png)\n\n</br>\n\n## ì›¹ì‚¬ìš©ìë¡œë¶€í„° input ë°›ê¸°\n\nì´ì œ UIì ì¸ ë¶€ë¶„ì„ ì „ë°˜ì ìœ¼ë¡œ ì‚´í´ë´¤ê¸° ë•Œë¬¸ì—, ì‚¬ìš©ìë¡œ í•˜ì—¬ê¸ˆ inputì„ ë°›ì•„ interactiveí•˜ê²Œ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤\n\në°ì´í„°ëŠ” ì‚¬ì´í‚·ëŸ°ì˜ ì•„ì´ë¦¬ìŠ¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. </br>\n\n::: {.cell execution_count=7}\n``` {.python .cell-code code-fold=\"false\"}\nimport numpy as np\nimport pandas as pd \nfrom sklearn.datasets import load_iris \nimport matplotlib.pyplot as plt\nimport streamlit as st\n\niris_dataset = load_iris()\n\ndf= pd.DataFrame(data=iris_dataset.data,columns= iris_dataset.feature_names)\ndf.columns= [ col_name.split(' (cm)')[0] for col_name in df.columns] # ì»¬ëŸ¼ëª…ì„ ë’¤ì— cm ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤\ndf['species']= iris_dataset.target \n\n\nspecies_dict = {0 :'setosa', 1 :'versicolor', 2 :'virginica'} \n\ndef mapp_species(x):\n  return species_dict[x]\n\ndf['species'] = df['species'].apply(mapp_species)\nprint(df)\n```\n:::\n\n\n</br>\n\nstreamlit ì—ì„œ ë°ì´í„° í”„ë ˆì„ì„ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ì€ tableê³¼ dataframe ë‘ê°€ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ndataframeì˜ headí•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì²« 5í–‰ì˜ ë°ì´í„°ì— ëŒ€í•´ tableê³¼ dataframeìœ¼ë¡œ ì¶œë ¥í•œ ê²½ìš°ì…ë‹ˆë‹¤.\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nst.subheader('this is table')\nst.table(df.head())\n\nst.subheader('this is data frame')\nst.dataframe(df.head())\n```\n:::\n\n\n![](src-table.png)\n\nì´ì œ ë²„íŠ¼ì„ ë™ì‘ì‹œí‚¤ëŠ” ë°©ë²•ì„ ë°°ì›Œë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n</br> 1. Select Box\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\n# ì‚¬ì´ë“œë°”ì— select boxë¥¼ í™œìš©í•˜ì—¬ ì¢…ì„ ì„ íƒí•œ ë‹¤ìŒ ê·¸ì— í•´ë‹¹í•˜ëŠ” í–‰ë§Œ ì¶”ì¶œí•˜ì—¬ ë°ì´í„°í”„ë ˆì„ì„ ë§Œë“¤ê³ ìí•©ë‹ˆë‹¤.\nst.sidebar.title('Iris SpeciesğŸŒ¸')\n\n# select_species ë³€ìˆ˜ì— ì‚¬ìš©ìê°€ ì„ íƒí•œ ê°’ì´ ì§€ì •ë©ë‹ˆë‹¤\nselect_species = st.sidebar.selectbox(\n    'í™•ì¸í•˜ê³  ì‹¶ì€ ì¢…ì„ ì„ íƒí•˜ì„¸ìš”',\n    ['setosa','versicolor','virginica']\n)\n# ì›ë˜ dataframeìœ¼ë¡œ ë¶€í„° ê½ƒì˜ ì¢…ë¥˜ê°€ ì„ íƒí•œ ì¢…ë¥˜ë“¤ë§Œ í•„í„°ë§ ë˜ì–´ì„œ ë‚˜ì˜¤ê²Œ ì¼ì‹œì ì¸ dataframeì„ ìƒì„±í•©ë‹ˆë‹¤\ntmp_df = df[df['species']== select_species]\n# ì„ íƒí•œ ì¢…ì˜ ë§¨ ì²˜ìŒ 5í–‰ì„ ë³´ì—¬ì¤ë‹ˆë‹¤ \nst.table(tmp_df.head())\n```\n:::\n\n\n![](src-selectbox.png)\n\nì‚¬ìš©ìê°€ sidebarì—ì„œ ì¢…ì„ ë°”ê¿€ ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ í•´ë‹¹í•˜ëŠ” ì¢…ì˜ í…Œì´ë¸” ì •ë³´ê°€ ë¶ˆëŸ¬ì™€ì§€ê²Œ ë©ë‹ˆë‹¤.\n\n![](src_selectbox2.png)\n\n</br>\n\n2.  multi select\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\n# ì—¬ëŸ¬ê°œ ì„ íƒí•  ìˆ˜ ìˆì„ ë•ŒëŠ” multiselectë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤ \n# return : list\nselect_multi_species = st.sidebar.multiselect(\n    'í™•ì¸í•˜ê³ ì í•˜ëŠ” ì¢…ì„ ì„ íƒí•´ ì£¼ì„¸ìš”. ë³µìˆ˜ì„ íƒê°€ëŠ¥',\n    ['setosa','versicolor','virginica']\n\n)\n\n# ì›ë˜ dataframeìœ¼ë¡œ ë¶€í„° ê½ƒì˜ ì¢…ë¥˜ê°€ ì„ íƒí•œ ì¢…ë¥˜ë“¤ë§Œ í•„í„°ë§ ë˜ì–´ì„œ ë‚˜ì˜¤ê²Œ ì¼ì‹œì ì¸ dataframeì„ ìƒì„±í•©ë‹ˆë‹¤\ntmp_df = df[df['species'].isin(select_multi_species)]\n# ì„ íƒí•œ ì¢…ë“¤ì˜ ê²°ê³¼í‘œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.  \nst.table(tmp_df)\n```\n:::\n\n\n![](src-multiselect.png)\n\n</br>\n\n3.  Radio / Slider\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\n# ë¼ë””ì˜¤ì— ì„ íƒí•œ ë‚´ìš©ì„ radio selectë³€ìˆ˜ì— ë‹´ìŠµë‹ˆë‹¤\nradio_select =st.sidebar.radio(\n    \"what is key column?\",\n    ['sepal length', 'sepal width', 'petal length','petal width'],\n    horizontal=True\n    )\n# ì„ íƒí•œ ì»¬ëŸ¼ì˜ ê°’ì˜ ë²”ìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” sliderë¥¼ ë§Œë“­ë‹ˆë‹¤. \nslider_range = st.sidebar.slider(\n    \"choose range of key column\",\n     0.0, #ì‹œì‘ ê°’ \n     10.0, #ë ê°’  \n    (2.5, 7.5) # ê¸°ë³¸ê°’, ì• ë’¤ë¡œ 2ê°œ ì„¤ì • /  í•˜ë‚˜ë§Œ í•˜ëŠ” ê²½ìš° value=2.5 ì´ëŸ° ì‹ìœ¼ë¡œ ì„¤ì •ê°€ëŠ¥\n)\n\n# í•„í„° ì ìš©ë²„íŠ¼ ìƒì„± \nstart_button = st.sidebar.button(\n    \"filter apply ğŸ“Š \"#\"ë²„íŠ¼ì— í‘œì‹œë  ë‚´ìš©\"\n)\n\n# buttonì´ ëˆŒë¦¬ëŠ” ê²½ìš° start_buttonì˜ ê°’ì´ trueë¡œ ë°”ë€Œê²Œ ëœë‹¤.\n# ì´ë¥¼ ì´ìš©í•´ì„œ ifë¬¸ìœ¼ë¡œ ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œë¥¼ êµ¬í˜„ \nif start_button:\n    tmp_df = df[df['species'].isin(select_multi_species)]\n    #slider inputìœ¼ë¡œ ë°›ì€ ê°’ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.\n    tmp_df= tmp_df[ (tmp_df[radio_select] >= slider_range[0]) & (tmp_df[radio_select] <= slider_range[1])]\n    st.table(tmp_df)\n    # ì„±ê³µë¬¸êµ¬ + í’ì„ ì´ ë‚ ë¦¬ëŠ” íŠ¹ìˆ˜íš¨ê³¼ \n    st.sidebar.success(\"Filter Applied!\")\n    st.balloons()\n\n```\n:::\n\n\nslider_range : list í˜•ì‹ìœ¼ë¡œ 2ê°œì˜ ê°’ì´ ì €ì¥ë©ë‹ˆë‹¤. ì–‘ìª½ ì•ë’¤ë¡œ ë‘ê°œì˜ ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤.\n\n\n```{bash}\nslider_range[0] : ìµœì†Ÿê°’ \nslider_range[1] : ìµœëŒ“ê°’  \n```\n\n\n![](src-slider-filter.png)\n\npetal_width ì»¬ëŸ¼ê°’ì´ 0ì—ì„œ 1.38ì‚¬ì´ì¸ ê°’ë“¤ë¡œ ì •ë³´ë¥¼ filteringí•œ ê²°ê³¼ë¬¼ì´ í‘œì‹œë©ë‹ˆë‹¤.\n\n</br>\n\n# ì‹œê°í™”\n\n## plotly\n\npythonì˜ ì‹œê°í™”ë¡œ ìì£¼ ì´ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ëŠ” matplotlib,seaborn,bokeh,plotly ë“±ì´ ìˆìŠµë‹ˆë‹¤.\n\nìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œëŠ” bokeh, plotly, matplotlib ë“±ì˜ íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ìƒì„±í•œ ê·¸ë¦¼(figure)ë¥¼ streamlitì„ í†µí•´ ì›¹ì—ì„œ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. </br>\n\n### st.plotly_chart\n\n::: {.cell execution_count=12}\n``` {.python .cell-code}\n#st.plotly_chart(figure_or_data, use_container_width=False, theme=\"streamlit\", **kwargs)\n```\n:::\n\n\n</br> ì¸ìë¡œ ì¤„ ìˆ˜ ìˆëŠ” ì˜µì…˜ë“¤ì— ëŒ€í•´ì„œ í•˜ë‚˜ì”© ì„¤ëª…í•´ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n-   figure_or_data : ì²«ë²ˆì§¸ ì¸ìë¡œ plotlyë¡œ ìƒì„±í•œ ê·¸ë¦¼ì˜ ì´ë¦„ì´ ë“¤ì–´ê°€ëŠ” ìœ„ì¹˜ì…ë‹ˆë‹¤.\n-   use_container_width : ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì§€ì •í•œ ì‚¬ì´ì¦ˆì— ê·¸ë¦¼ì´ í•´ìƒë„ë¥¼ ì¡°ì ˆí•´ì„œ ë“¤ì–´ê°ˆ ê²ƒì¸ì§€ (-\\>'True') </br> ì•„ë‹ˆë©´ ì›ë˜ê·¸ë¦¼ í¬ê¸°ëŒ€ë¡œ í‘œì‹œë  ê²ƒì¸ì§€ (-\\> 'False') ì„ íƒí•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.\n-   theme : ìŠ¤íŠ¸ë¦¼ë¦¿ ì›¹ì— ì–´ë–»ê²Œ í‘œì‹œë ì§€ í…Œë§ˆë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì¸ìë¡œëŠ” \"streamlit\" ê³¼ None(ì…ë ¥í•˜ì§€ ì•ŠìŒ)ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n</br>\n\n::: {.cell execution_count=13}\n``` {.python .cell-code}\nimport plotly.express as px\n\ndf = px.data.gapminder()\n\nfig = px.scatter(\n    df.query(\"year==2007\"),\n    x=\"gdpPercap\",\n    y=\"lifeExp\",\n    size=\"pop\",\n    color=\"continent\",\n    hover_name=\"country\",\n    log_x=True,\n    size_max=60,\n)\nfig.show()\n\ntab1, tab2 = st.tabs([\"Streamlit theme (default)\", \"Plotly native theme\"])\nwith tab1:\n    # Use the Streamlit theme.\n    # This is the default. So you can also omit the theme argument.\n    st.plotly_chart(fig, theme=\"streamlit\", use_container_width=True)\nwith tab2:\n    # Use the native Plotly theme.\n    st.plotly_chart(fig, theme=None, use_container_width=True)\n```\n:::\n\n\n</br>\n\n## ì§€ë„í‘œì‹œ\n\n::: {.cell execution_count=14}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd \n\n#ì§€ë„ ìœ„ì— í‘œì‹œë  ì  ì¢Œí‘œ ê°’ì„ ìœ„ë„ê²½ë„ì— ë‹´ìŠµë‹ˆë‹¤ .\nbase_position =  [37.5073423, 127.0572734]\n#ì¤‘ì‹¬ì ì˜ ìœ„ë„, ê²½ë„ ì¢Œí‘œë¥¼ ë¦¬ìŠ¤íŠ¸ì— ë‹´ìŠµë‹ˆë‹¤.\n\n# base_positionì—, ëœë¤ìœ¼ë¡œ ìƒì„±í•œ ê°’ì„ ë”í•˜ì—¬ 5ê°œì˜ ì¢Œí‘œë¥¼ ë°ì´í„° í”„ë ˆì„ìœ¼ë¡œ ìƒì„±í•˜ì˜€ê³ ,\n# ì»¬ëŸ¼ëª…ì€ ìœ„ë„ :lat  ê²½ë„ lonìœ¼ë¡œ ì§€ì •í•˜ì˜€ìŠµë‹ˆë‹¤. \n\n\nmap_data = pd.DataFrame(\n    np.random.randn(5, 1) / [20, 20] + base_position , \n    columns=['lat', 'lon'])\n# map data ìƒì„± : ìœ„ì¹˜ì™€ ê²½ë„ \n\nprint(map_data)\n```\n:::\n\n\nì´ì–´ì„œ ì´ ìœ„ë„ ê²½ë„ ë°ì´í„°ë¥¼ ìŠ¤íŠ¸ë¦¼ë¦¿ ì›¹ í˜ì´ì§€ì— ì§€ë„ë¡œ ë‚˜íƒ€ë‚´ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. </br>\n\n::: {.cell execution_count=15}\n``` {.python .cell-code}\nst.code('st.map(map_data)')\n# ì›¹ì‚¬ì´íŠ¸ì— ì–´ë–¤ ì½”ë“œì¸ì§€ í‘œì‹œí•´ì£¼ê¸° \nst.subheader('Map of Data ')\n# ì œëª© ìƒì„± \nst.map(map_data)\n# ì§€ë„ ìƒì„± \n```\n:::\n\n\nê²°ê³¼ë¬¼\n\n![](src-map.png)\n\n</br>\n\n# st.session_State / st.cache\n\n</br> <https://docs.streamlit.io/library/api-reference/performance/st.cache>\n\n## st.session_state ì„¸ì…˜ ìŠ¤í…Œì´íŠ¸ë€?\n\n**ìƒíƒœê°€ ìê¾¸ ë³€í•˜ëŠ” ê²ƒë“¤ì„ ì„¸ì…˜ìŠ¤í…Œì´íŠ¸ì— ê´€ë¦¬í•´ë‘ë©´ ë°”ë€ŒëŠ” ê°’ì— ë”°ë¼ ë‚´ìš©ì´ ë°”ë€ŒëŠ” ê²ƒë“¤ì„ ê¸°ë¡í•  ìˆ˜ ìˆë‹¤.**\n\n\\*\\* ì•„ì£¼ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. \\*\\*\n\n## st.session_state í™œìš©\n\n![why we use sessionstate](src-whysession_state.png)\n\nì„¸ì…˜ìŠ¤í…Œì´íŠ¸ì— keyê°’ì˜ ì´ˆê¸°ê°’ì´ ì—†ìœ¼ë©´, ì´ˆê¸°ê°’ì„ ìƒì„±í•˜ì—¬ ë†“ëŠ” ì‘ì—…ì„ ifë¬¸ì„ í†µí•´ ì§„í–‰í•©ë‹ˆë‹¤.\n\nì„¸ì…˜ìŠ¤í…Œì´íŠ¸ì— ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì¸í’‹ì— ë”°ë¼ì„œ dataframeì´ ì¬ê°€ê³µ ë˜ëŠ”ë° ì´ ê°’ì´ interactiveí•˜ê²Œ ì§€ì •ë˜ê²Œ í•˜ê¸° ìœ„í•´ st.session_stateê°’ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n::: {.cell execution_count=16}\n``` {.python .cell-code}\n# ì˜ˆì‹œì½”ë“œ \n# import streamlit as st\n\n\n\n# if 'final_dataframe' not in st.session_state:\n#   # session state ì— final ì´ë¼ëŠ” ê°’ì´ ì—†ìœ¼ë©´, \n#   st.session_state['final_dataframe']= df\n#   # ì´ˆê¸° ê°’ ì„¤ì • : session_stateì— final_dataframeí‚¤ ê°’ì— ì´ˆê¸°ê°’ ë°ì´í„°ë¥¼ ì§‘ì–´ë„£ìŠµë‹ˆë‹¤ .\n\n# #ì•„ë˜ ì½”ë“œëŠ” dfì˜ í…Œì´ë¸” ê°’ì´ ë°”ë€Œë”ë¼ë„ interactiveí•˜ê²Œ ì—°ë™ë˜ì„œ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤\n# st.table(df)\n\n# #  ì•„ë˜ ì½”ë“œëŠ”  ì´ì œ dataframeê°€ ì¡°ì‘ë  ë•Œ ë§ˆë‹¤ session_stateê°ì²´ ì•ˆì— final_dataframeê°’ì„ ë³€ê²½í•˜ë©´, \n# #  ìˆ˜ì • ë  ë•Œ  ê³„ì† ë°”ë€Œì–´ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤. \n# st.table(st.session_state.final_dataframe)\n\n```\n:::\n\n\n## cache ë€ ë¬´ì—‡ì¸ê°€?\n\n![ìºì‹±ê¸°ëŠ¥ì˜ í•„ìš”ì„±](src-whatiscache.png)\n\nìºì‹±ì— ê´€í•œ ê°„ë‹¨í•œ ê°œë…ì€ ì£¼ë¬¸ì´ ë“¤ì–´ì™”ì„ ë•Œ ìš°ë¦¬ê°€ ë§Œë“¤ê¸° ì‹œì‘í•˜ë©´ ì½”ë“œê°€ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚´ëŠ”ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ìœ ì €ê°€ ê²°ê³¼ë¬¼ì„ ì˜¤ëœì‹œê°„ ê¸°ë‹¬ë ¤ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ ë§Œë“¤ì–´ë‚´ëŠ”ë° ì˜¤ë˜ê±¸ë¦¬ëŠ” ê²°ê³¼ë¬¼ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ê³ , ë³´ì´ì§€ ì•ŠëŠ” ê³³ì— ìºì‹±í•˜ì—¬ í•„ìš”í• ë•Œ ì°¾ì•„ êº¼ë‚´ëŠ” ê²ƒì„ cacheê¸°ëŠ¥ì´ë¼ê³  ê°„ë‹¨íˆ ì„¤ëª…í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n## streamlit ì—ì„œ cache ê¸°ëŠ¥ ì‚¬ìš©í•˜ê¸°\n\nstreamlitì—ì„œëŠ” ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…: ë°ì´í„° ë¡œë“œ ë“±ì„ í• ë•Œ ìœ„ì— `@st.cache`ë¥¼ ì¶”ê°€í•˜ì—¬ ìºì‹±í•  ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆë‹¤.\n\n::: {.cell execution_count=17}\n``` {.python .cell-code}\nimport streamlit as st\nimport pandas as pd \n\nfile_path = '~~~filepath'\n@st.cache\ndef load_data():\n  data = pd.read_csv(file_path)\n  return data\n```\n:::\n\n\ní° ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê±°ë‚˜, ì‹¤í–‰ì´ ì˜¤ë˜ê±¸ë¦¬ëŠ” ë³µì¡í•œ ì—°ì‚°ì„ í•´ì•¼í•  ë•Œ cacheê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ìš©ì´í•˜ë‹¤.\n\n## ë¡œë”©ìƒíƒœ êµ¬í˜„\n\n### st.progress\n\n::: {.cell execution_count=18}\n``` {.python .cell-code}\nimport time \n\n# ë°©ë²• 1 progress bar \nlatest_iteration = st.empty()\nbar = st.progress(0)\n\nfor i in range(100):\n  # Update the progress bar with each iteration.\n  latest_iteration.text(f'Iteration {i+1}')\n  bar.progress(i + 1)\n  time.sleep(0.05)\n  # 0.05 ì´ˆ ë§ˆë‹¤ 1ì”©ì¦ê°€\n\nst.balloons()\n# ì‹œê°„ ë‹¤ ë˜ë©´ í’ì„  ì´í™íŠ¸ ë³´ì—¬ì£¼ê¸° \n```\n:::\n\n\nì½”ë“œ ìˆ˜í–‰ ì†Œìš”ì‹œê°„ì´ ê¸´ ê²½ìš°, progress barì™€ streamlitì˜ spinnerë¥¼ í†µí•´ì„œ ë¡œë”©í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤!\n\n![](src-progress.png) ![](src-progressbar2.png)\n\n### st. spinner ì‚¬ìš©\n\n::: {.cell execution_count=19}\n``` {.python .cell-code}\n#ë°©ë²•2  st.spinner ì‚¬ìš© \nimport time \n\nwith st.spinner('Wait for it...'):\n  time.sleep(5)\n  st.success('Done!') \n```\n:::\n\n\n![](src-spinner.png) ![](src-spinner2.png)\n\n# ìŠ¤íŠ¸ë¦¼ë¦¿ì˜ ë‹¨ì \n\n## ê·¼ë³¸ì  í•œê³„\n\nstreamlit ì—ì„œ ì œê³µí•˜ëŠ” UIë“¤ì´ ëŒ€ë¶€ë¶„ ì˜ˆì˜ì§€ë§Œ, ë””í…Œì¼ì ìœ¼ë¡œ ë§˜ì— ë“¤ì§€ ì•Šì„ ìˆ˜ê°€ ìˆë‹¤.\n\n![](src-css.png)\n\nì˜ˆë¥¼ ë“¤ì–´ 4.87ë¡œ í‘œì‹œëœ ë¶€ë¶„ì˜ í°íŠ¸ê°€ ë§˜ì—ë“¤ì§€ ì•ŠëŠ”ë‹¤ê³  í•˜ì. ê·¸ë ‡ë‹¤ë©´ streamlitë¥¼ markdownì„ í†µí•´ì„œ styleì„ ì§ì ‘ ìˆ˜ì •í•´ì£¼ì–´ì•¼í•œë‹¤.\n\n## ê·¹ë³µë°©ì•ˆ : CSS hack\n\nì´ ì‘ì—…ì„ streamlit CSS hackì´ë¼ê³  í•œë‹¤\n\n![](src-csshack.png)\n\në¸Œë¼ìš°ì €ì— ê²€ì‚¬ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ cssí•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì§ì ‘ style tagë¥¼ ë„£ì–´ì„œ ìˆ˜ì •í•˜ë©´ ëœë‹¤.\n\nì•„ë˜ ìœ íŠœë¸Œë¥¼ í†µí•´ì„œ ë”ìš± ìì„¸í•œ ë‚´ìš©ì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<https://www.youtube.com/watch?v=gr_KyGfO_eU>\n\n# ì†Œê°œí•˜ì§€ ëª»í–ˆì§€ë§Œ ì¤‘ìš”í•œ ê¸°ëŠ¥\n\n-   DBë¥¼ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ streamlitì€ ë‹¤ì–‘í•œ DBMS ì—°ê²°ì„ ì§€ì›í•©ë‹ˆë‹¤.</br> ì œê³µí•˜ëŠ” tutorialì„ í†µí•´ ì—°ê²°í•´ë³´ì„¸ìš” </br> <https://docs.streamlit.io/knowledge-base/tutorials/databases>\n\n-   ë°°í¬í•˜ëŠ” ë¶€ë¶„\\\n    streamlitì„ ë¡œì»¬ì—ì„œ ë§ê³  ë§í¬ë¥¼ ë§Œë“¤ì–´ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ <https://docs.streamlit.io/knowledge-base/tutorials/deploy>\n\n# íŒŒì´ì¬ streamlitì„ í™œìš©í•œ ì „ê³µì˜ ì‹¤íƒœì¡°ì‚¬ ëŒ€ì‹œë³´ë“œ ì œì‘ê¸°\n\n<iframe class=\"slide-deck\" src=\"/posts/2023-02-01-streamlit/streamlit_slide.html\" width=\"750px\" height=\"500px\" style=\"border: solid 1px black\">\n\n</iframe>\n\n<!-- <https://kimkimwonwon.github.io/zarathu> ë¥¼ í´ë¦­í•˜ì‹œë©´ ìŠ¬ë¼ì´ë“œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. -->\n\n",
    "supporting": [
      "index_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}