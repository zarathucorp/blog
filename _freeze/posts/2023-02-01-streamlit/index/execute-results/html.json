{
  "hash": "a359db920de45c5bde283d61e8421669",
  "result": {
    "markdown": "---\ntitle: Python Streamlit íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•œ ëŒ€ì‹œë³´ë“œ ë§Œë“¤ê¸°\ndescription: |\n  streamlit íŒ¨í‚¤ì§€ì˜ ì‚¬ìš©ë°©ë²•ì„ ì•Œì•„ë³´ì\ncategories:\n  - python\n  - streamlit\ndate: 02-01-2023\ndraft: false\nformat:\n  html:\n    code-fold: false\nimage: logo.jpeg\nnumber-sections: true\n---\n\n![](logo.jpeg)\n\n<https://docs.streamlit.io/library/api-reference> ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\n2023ë…„ 2ì›” ê¸°ì¤€) *streamlit version 1.17.0* ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n# Streamlit ì†Œê°œ\n\nì–¸ì œ ìŠ¤íŠ¸ë¦¼ë¦¿ì„ ì‚¬ìš©í•´ì•¼í• ì§€ ìŠ¤íŠ¸ë¦¼ë¦¿ì´ íƒ€ í”„ë ˆì„ì›Œí¬ì— ë¹„í•˜ì—¬ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì¥ì ì„ ë°”íƒ•ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ë³´ê² ìŠµë‹ˆë‹¤.\n\n![](src-1.png)\n\n1.  ë¹ ë¥´ê²Œ ê°œë°œì´ ê°€ëŠ¥í•˜ë‹¤ - ì›¹ê°œë°œê´€ë ¨ ì§€ì‹ì´ ë¶€ì¡±í•´ë„ ì‰½ê²Œ ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n\n2.  íŒŒì´ì¬ì—ì„œ ë¶„ì„í•œ ë‚´ìš©ì„ ì˜®ê¸¸ í•„ìš” ì—†ì´ ë°”ë¡œë°”ë¡œ ì›¹ì— ë„ìš¸ ìˆ˜ ìˆë‹¤. + ML/DL ì‚¬ìš©ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë§ë‹¤!\n\n3.  interactiveí•œ ì›¹ ê°œë°œì´ ê°€ëŠ¥í•˜ë‹¤. Dashboard ë§Œë“¤ê¸° ë“±\n\në‹¨ì  : ìŠ¤íŠ¸ë¦¼ë¦¿ìœ¼ë¡œ êµ¬í˜„í•œ ì›¹ì„ ë°”ë¡œ productë¡œ ì‚¬ìš©í•˜ê¸°ì—” ë‹¤ë“¬ì–´ì•¼ í•  ë¶€ë¶„ë“¤ì´ ë§ê³ , ë””í…Œì¼í•œ layout ì¡°ì •ë“±ì€ ì–´ë ¤ì›€ -\\> CSS hackì„ í†µí•´ ì¡°ì • ê°€ëŠ¥í•˜ë‹¤!\n\në‹¤ë¥¸ ëŒ€ì•ˆ : pyscriptë¼ëŠ” ê²ƒì´ ì¸ê¸°ë¥¼ ëŒê³  ìˆë‹¤. í•˜ì§€ë§Œ ì•„ì§ ë³´ì™„ë˜ì–´ì•¼ í•  ì ì´ ì •ë§ ë§ë‹¤.\n\n(html ì—ì„œ ì‘ë™í•˜ëŠ” python) <https://github.com/pyscript/pyscript>\n\n------------------------------------------------------------------------\n\n## streamlitê³¼ shiny ì˜ˆì œ ë¹„êµ\n\n-   streamlit í™œìš© ì‚¬ë¡€\n\n<https://streamlit.io/gallery>\n\n-   shiny í™œìš© ì‚¬ë¡€\n\n<https://shiny.rstudio.com/gallery/>\n\n</br>\n\n# Streamlit ë”°ë¼ í•´ë³´ê¸°\n\nStreamlitì— ì–´ë–¤ ê¸°ëŠ¥ì´ ìˆëŠ”ì§€ ë”°ë¼ ì³ë³´ë©´ì„œ í™•ì¸í•´ë³´ì.\n\n## ìŠ¤íŠ¸ë¦¼ë¦¿ ì„¤ì¹˜\n\níŒŒì´ì¬, ê°€ìƒí™˜ê²½ ì„¤ì¹˜ì™€ ê´€í•œ ë‚´ìš©ì€ ë‹¤ë¥¸ ê²Œì‹œë¬¼ì„ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n\n```{terminal}\npip install streamlit \n```\n\n\níŒŒì´ì¬ ê°€ìƒí™˜ê²½ì— streamlitíŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤\n\napp.pyë¥¼ ìƒì„±í•œ í›„ ë‹¤ìŒ ê³¼ ê°™ì´ ìˆ˜ì •í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code code-fold=\"false\"}\nimport streamlit as st\n\nst.title('Hello Streamlit')\n```\n:::\n\n\nì´í›„ í„°ë¯¸ë„ì—ì„œ\n\n\n```{bash}\nstreamlit run app.py \n```\n\n\nstreamlit run app.py ëª…ë ì–´ë¥¼ ì‹¤í–‰í•˜ë©´, ë¡œì»¬ì„œë²„ë¡œ í˜ì´ì§€ê°€ ë§Œë“¤ì–´ì§€ê²Œ ë©ë‹ˆë‹¤.\n\n![](src2-1.png)\n\n## ìŠ¤íŠ¸ë¦¼ë¦¿ ê¸°ëŠ¥ ì†Œê°œ\n\në” ìì„¸í•œ ë‚´ìš©ì€ <https://docs.streamlit.io/library/api-reference>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ê°•ì¡° ë¬¸êµ¬\n\n1.  title\n2.  header\n3.  subheader\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nimport streamlit as st\n\nst.title('this is title')\nst.header('this is header')\nst.subheader('this is subheader')\n```\n:::\n\n\n![](src-header.png)\n\nì œëª©ê³¼ í—¤ë”,ì„œë¸Œí—¤ë”ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n\n4.  etc\n\nì¶”ê°€ì ìœ¼ë¡œ Markdown ë¬¸ë²•ì„ st.markdownìœ¼ë¡œ, caption, Latex Code blockì„ í™œìš©ê°€ëŠ¥í•©ë‹ˆë‹¤\n\n</br>\n\n### layout ì§œê¸°\n\ní˜ì´ì§€ì˜ ê³µê°„ì„ ë ˆì´ì•„ì›ƒì„ í†µí•´ ì›¹í˜ì´ì§€ë¥¼ ë¶„í• í•  ìˆ˜ ìˆë‹¤.\n\n1.  column\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nimport streamlit as st\n\ncol1,col2 = st.columns([2,3])\n# ê³µê°„ì„ 2:3 ìœ¼ë¡œ ë¶„í• í•˜ì—¬ col1ê³¼ col2ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ì»¬ëŸ¼ì„ ìƒì„±í•©ë‹ˆë‹¤.  \n\nwith col1 :\n  # column 1 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column1')\nwith col2 :\n  # column 2 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column2')\n  st.checkbox('this is checkbox1 in col2 ')\n\n\n# with êµ¬ë¬¸ ë§ê³  ë‹¤ë¥´ê²Œ ì‚¬ìš© ê°€ëŠ¥ \ncol1.subheader(' i am column1  subheader !! ')\ncol2.checkbox('this is checkbox2 in col2 ') \n#=>ìœ„ì— with col2: ì•ˆì˜ ë‚´ìš©ê³¼ ê°™ì€ ê¸°ëŠ¥ì„í•©ë‹ˆë‹¤\n\n```\n:::\n\n\n</br>\n\nê²°ê³¼ë¬¼\n\n![](src-columns.png)\n\n2.  tab\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nimport streamlit as st\n\n# íƒ­ ìƒì„± : ì²«ë²ˆì§¸ íƒ­ì˜ ì´ë¦„ì€ Tab A ë¡œ, Tab Bë¡œ í‘œì‹œí•©ë‹ˆë‹¤. \ntab1, tab2= st.tabs(['Tab A' , 'Tab B'])\n\nwith tab1:\n  #tab A ë¥¼ ëˆ„ë¥´ë©´ í‘œì‹œë  ë‚´ìš©\n  st.write('hello')\n    \nwith tab2:\n  #tab Bë¥¼ ëˆ„ë¥´ë©´ í‘œì‹œë  ë‚´ìš© \n  st.write('hi')\n\n```\n:::\n\n\n</br> ë‹¤ìŒì„ ì‹¤í–‰í•˜ë©´ tab A ë¥¼ ëˆŒë €ì„ ê²½ìš° hello, tab Bë¥¼ ëˆŒë €ì„ ê²½ìš° hiê°€ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.\n\níƒ­ì˜ íŠ¹ì§•ìœ¼ë¡œëŠ”, íƒ­ì„ í´ë¦­ê³¼ ë™ì‹œì— ë°ì´í„°ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,íƒ­ì— í‘œì‹œë  ë°ì´í„°ê°€ ì´ë¯¸ ë§Œë“¤ì–´ì ¸ ì•˜ëŠ” ê²ƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤. ì¥ì ì´ ë  ìˆ˜ë„ ìˆê³ , ë‹¨ì ì´ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n![](src-tab1.png) ![](src-tab2.png)\n\n3.  sidebar\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nimport streamlit as st\n\n#st.sidebarëŠ” \n\nst.sidebar.title('this is sidebar')\nst.sidebar.checkbox('ì²´í¬ë°•ìŠ¤ì— í‘œì‹œë  ë¬¸êµ¬')\n# ì‚¬ì´ë“œë°”ì— ì²´í¬ë°•ìŠ¤, ë²„íŠ¼ë“± ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! \n```\n:::\n\n\n![](src-sidebar.png) ![](src-sidebar2.png)\n\n4.  etc\n\nì¶”ê°€ì ìœ¼ë¡œ Expander, Container ,Emptyê°€ ìˆìŠµë‹ˆë‹¤\n\n### ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nimport streamlit as st\nfrom PIL import Image\n\n#PIL íŒ¨í‚¤ì§€ì— ì´ë¯¸ì§€ ëª¨ë“ˆì„ í†µí•´ ì´ë¯¸ì§€ ì—´ê¸° \n# Image.open('ì´ë¯¸ì§€ ê²½ë¡œ')\nzarathu_img = Image.open('zarathu.png')\n\ncol1,col2 = st.columns([2,3])\n\nwith col1 :\n  # column 1 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column1')\nwith col2 :\n  # column 2 ì— ë‹´ì„ ë‚´ìš©\n  st.title('here is column2')\n  st.checkbox('this is checkbox1 in col2 ')\n\n\n# ì»¬ëŸ¼2ì— ë¶ˆëŸ¬ì˜¨ ì‚¬ì§„ í‘œì‹œí•˜ê¸°\ncol2.image(zarathu_img)\n```\n:::\n\n\n</br>\n\n![](src-image.png)\n\n</br>\n\n## ì›¹ì‚¬ìš©ìë¡œë¶€í„° input ë°›ê¸°\n\nì´ì œ UIì ì¸ ë¶€ë¶„ì„ ì „ë°˜ì ìœ¼ë¡œ ì‚´í´ë´¤ê¸° ë•Œë¬¸ì—, ì‚¬ìš©ìë¡œ í•˜ì—¬ê¸ˆ inputì„ ë°›ì•„ interactiveí•˜ê²Œ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤\n\në°ì´í„°ëŠ” ì‚¬ì´í‚·ëŸ°ì˜ ì•„ì´ë¦¬ìŠ¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. </br>\n\n::: {.cell execution_count=7}\n``` {.python .cell-code code-fold=\"false\"}\nimport numpy as np\nimport pandas as pd \nfrom sklearn.datasets import load_iris \nimport matplotlib.pyplot as plt\nimport streamlit as st\n\n\niris_dataset = load_iris()\n\ndf= pd.DataFrame(data=iris_dataset.data,columns= iris_dataset.feature_names)\ndf.columns= [ col_name.split(' (cm)')[0] for col_name in df.columns] # ì»¬ëŸ¼ëª…ì„ ë’¤ì— cm ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤\ndf['species']= iris_dataset.target \n\n\nspecies_dict = {0 :'setosa', 1 :'versicolor', 2 :'virginica'} \n\ndef mapp_species(x):\n  return species_dict[x]\n\n\ndf['species'] = df['species'].apply(mapp_species)\nprint(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     sepal length  sepal width  petal length  petal width    species\n0             5.1          3.5           1.4          0.2     setosa\n1             4.9          3.0           1.4          0.2     setosa\n2             4.7          3.2           1.3          0.2     setosa\n3             4.6          3.1           1.5          0.2     setosa\n4             5.0          3.6           1.4          0.2     setosa\n..            ...          ...           ...          ...        ...\n145           6.7          3.0           5.2          2.3  virginica\n146           6.3          2.5           5.0          1.9  virginica\n147           6.5          3.0           5.2          2.0  virginica\n148           6.2          3.4           5.4          2.3  virginica\n149           5.9          3.0           5.1          1.8  virginica\n\n[150 rows x 5 columns]\n```\n:::\n:::\n\n\n</br>\n\nstreamlit ì—ì„œ ë°ì´í„° í”„ë ˆì„ì„ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ì€ tableê³¼ dataframe ë‘ê°€ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ndataframeì˜ headí•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì²« 5í–‰ì˜ ë°ì´í„°ì— ëŒ€í•´ tableê³¼ dataframeìœ¼ë¡œ ì¶œë ¥í•œ ê²½ìš°ì…ë‹ˆë‹¤.\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nst.subheader('this is table')\nst.table(df.head())\n\nst.subheader('this is data frame')\nst.dataframe(df.head())\n```\n:::\n\n\n![](src-table.png)\n\nì´ì œ ë²„íŠ¼ì„ ë™ì‘ì‹œí‚¤ëŠ” ë°©ë²•ì„ ë°°ì›Œë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n</br> 1. Select Box\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\n# ì‚¬ì´ë“œë°”ì— select boxë¥¼ í™œìš©í•˜ì—¬ ì¢…ì„ ì„ íƒí•œ ë‹¤ìŒ ê·¸ì— í•´ë‹¹í•˜ëŠ” í–‰ë§Œ ì¶”ì¶œí•˜ì—¬ ë°ì´í„°í”„ë ˆì„ì„ ë§Œë“¤ê³ ìí•©ë‹ˆë‹¤.\nst.sidebar.title('Iris SpeciesğŸŒ¸')\n\n# select_species ë³€ìˆ˜ì— ì‚¬ìš©ìê°€ ì„ íƒí•œ ê°’ì´ ì§€ì •ë©ë‹ˆë‹¤\nselect_species = st.sidebar.selectbox(\n    'í™•ì¸í•˜ê³  ì‹¶ì€ ì¢…ì„ ì„ íƒí•˜ì„¸ìš”',\n    ['setosa','versicolor','virginica']\n)\n# ì›ë˜ dataframeìœ¼ë¡œ ë¶€í„° ê½ƒì˜ ì¢…ë¥˜ê°€ ì„ íƒí•œ ì¢…ë¥˜ë“¤ë§Œ í•„í„°ë§ ë˜ì–´ì„œ ë‚˜ì˜¤ê²Œ ì¼ì‹œì ì¸ dataframeì„ ìƒì„±í•©ë‹ˆë‹¤\ntmp_df = df[df['species']== select_species]\n# ì„ íƒí•œ ì¢…ì˜ ë§¨ ì²˜ìŒ 5í–‰ì„ ë³´ì—¬ì¤ë‹ˆë‹¤ \nst.table(tmp_df.head())\n\n```\n:::\n\n\n![](src-selectbox.png)\n\nì‚¬ìš©ìê°€ sidebarì—ì„œ ì¢…ì„ ë°”ê¿€ ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ í•´ë‹¹í•˜ëŠ” ì¢…ì˜ í…Œì´ë¸” ì •ë³´ê°€ ë¶ˆëŸ¬ì™€ì§€ê²Œ ë©ë‹ˆë‹¤.\n\n![](src_selectbox2.png)\n\n</br>\n\n2.  multi select\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\n# ì—¬ëŸ¬ê°œ ì„ íƒí•  ìˆ˜ ìˆì„ ë•ŒëŠ” multiselectë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤ \n# return : list\nselect_multi_species = st.sidebar.multiselect(\n    'í™•ì¸í•˜ê³ ì í•˜ëŠ” ì¢…ì„ ì„ íƒí•´ ì£¼ì„¸ìš”. ë³µìˆ˜ì„ íƒê°€ëŠ¥',\n    ['setosa','versicolor','virginica']\n\n)\n\n# ì›ë˜ dataframeìœ¼ë¡œ ë¶€í„° ê½ƒì˜ ì¢…ë¥˜ê°€ ì„ íƒí•œ ì¢…ë¥˜ë“¤ë§Œ í•„í„°ë§ ë˜ì–´ì„œ ë‚˜ì˜¤ê²Œ ì¼ì‹œì ì¸ dataframeì„ ìƒì„±í•©ë‹ˆë‹¤\ntmp_df = df[df['species'].isin(select_multi_species)]\n# ì„ íƒí•œ ì¢…ë“¤ì˜ ê²°ê³¼í‘œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.  \nst.table(tmp_df)\n```\n:::\n\n\n![](src-multiselect.png)\n\n</br>\n\n3.  Radio / Slider\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\n# ë¼ë””ì˜¤ì— ì„ íƒí•œ ë‚´ìš©ì„ radio selectë³€ìˆ˜ì— ë‹´ìŠµë‹ˆë‹¤\nradio_select =st.sidebar.radio(\n    \"what is key column?\",\n    ['sepal length', 'sepal width', 'petal length','petal width'],\n    horizontal=True\n    )\n# ì„ íƒí•œ ì»¬ëŸ¼ì˜ ê°’ì˜ ë²”ìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” sliderë¥¼ ë§Œë“­ë‹ˆë‹¤. \nslider_range = st.sidebar.slider(\n    \"choose range of key column\",\n     0.0, #ì‹œì‘ ê°’ \n     10.0, #ë ê°’  \n    (2.5, 7.5) # ê¸°ë³¸ê°’, ì• ë’¤ë¡œ 2ê°œ ì„¤ì • /  í•˜ë‚˜ë§Œ í•˜ëŠ” ê²½ìš° value=2.5 ì´ëŸ° ì‹ìœ¼ë¡œ ì„¤ì •ê°€ëŠ¥\n)\n\n# í•„í„° ì ìš©ë²„íŠ¼ ìƒì„± \nstart_button = st.sidebar.button(\n    \"filter apply ğŸ“Š \"#\"ë²„íŠ¼ì— í‘œì‹œë  ë‚´ìš©\"\n)\n\n# buttonì´ ëˆŒë¦¬ëŠ” ê²½ìš° start_buttonì˜ ê°’ì´ trueë¡œ ë°”ë€Œê²Œ ëœë‹¤.\n# ì´ë¥¼ ì´ìš©í•´ì„œ ifë¬¸ìœ¼ë¡œ ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œë¥¼ êµ¬í˜„ \nif start_button:\n    tmp_df = df[df['species'].isin(select_multi_species)]\n    #slider inputìœ¼ë¡œ ë°›ì€ ê°’ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.\n    tmp_df= tmp_df[ (tmp_df[radio_select] >= slider_range[0]) & (tmp_df[radio_select] <= slider_range[1])]\n    st.table(tmp_df)\n    # ì„±ê³µë¬¸êµ¬ + í’ì„ ì´ ë‚ ë¦¬ëŠ” íŠ¹ìˆ˜íš¨ê³¼ \n    st.sidebar.success(\"Filter Applied!\")\n    st.balloons()\n\n```\n:::\n\n\nslider_range : list í˜•ì‹ìœ¼ë¡œ 2ê°œì˜ ê°’ì´ ì €ì¥ë©ë‹ˆë‹¤. ì–‘ìª½ ì•ë’¤ë¡œ ë‘ê°œì˜ ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤.\n\n\n```{bash}\nslider_range[0] : ìµœì†Ÿê°’ \nslider_range[1] : ìµœëŒ“ê°’  \n```\n\n\n![](src-slider-filter.png)\n\npetal_width ì»¬ëŸ¼ê°’ì´ 0ì—ì„œ 1.38ì‚¬ì´ì¸ ê°’ë“¤ë¡œ ì •ë³´ë¥¼ filteringí•œ ê²°ê³¼ë¬¼ì´ í‘œì‹œë©ë‹ˆë‹¤.\n\n</br>\n\n# ì‹œê°í™”\n\n## plotly\n\npythonì˜ ì‹œê°í™”ë¡œ ìì£¼ ì´ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ëŠ” matplotlib,seaborn,bokeh,plotly ë“±ì´ ìˆìŠµë‹ˆë‹¤.\n\nìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œëŠ” bokeh, plotly, matplotlib ë“±ì˜ íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ìƒì„±í•œ ê·¸ë¦¼(figure)ë¥¼ streamlitì„ í†µí•´ ì›¹ì—ì„œ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. </br>\n\n### st.plotly_chart\n\n::: {.cell execution_count=12}\n``` {.python .cell-code}\n#st.plotly_chart(figure_or_data, use_container_width=False, theme=\"streamlit\", **kwargs)\n```\n:::\n\n\n</br> ì¸ìë¡œ ì¤„ ìˆ˜ ìˆëŠ” ì˜µì…˜ë“¤ì— ëŒ€í•´ì„œ í•˜ë‚˜ì”© ì„¤ëª…í•´ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n-   figure_or_data : ì²«ë²ˆì§¸ ì¸ìë¡œ plotlyë¡œ ìƒì„±í•œ ê·¸ë¦¼ì˜ ì´ë¦„ì´ ë“¤ì–´ê°€ëŠ” ìœ„ì¹˜ì…ë‹ˆë‹¤.\n-   use_container_width : ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì§€ì •í•œ ì‚¬ì´ì¦ˆì— ê·¸ë¦¼ì´ í•´ìƒë„ë¥¼ ì¡°ì ˆí•´ì„œ ë“¤ì–´ê°ˆ ê²ƒì¸ì§€ (-\\>'True') </br> ì•„ë‹ˆë©´ ì›ë˜ê·¸ë¦¼ í¬ê¸°ëŒ€ë¡œ í‘œì‹œë  ê²ƒì¸ì§€ (-\\> 'False') ì„ íƒí•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.\n-   theme : ìŠ¤íŠ¸ë¦¼ë¦¿ ì›¹ì— ì–´ë–»ê²Œ í‘œì‹œë ì§€ í…Œë§ˆë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì¸ìë¡œëŠ” \"streamlit\" ê³¼ None(ì…ë ¥í•˜ì§€ ì•ŠìŒ)ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n</br>\n\n::: {.cell execution_count=13}\n``` {.python .cell-code}\nimport plotly.express as px\n\ndf = px.data.gapminder()\n\nfig = px.scatter(\n    df.query(\"year==2007\"),\n    x=\"gdpPercap\",\n    y=\"lifeExp\",\n    size=\"pop\",\n    color=\"continent\",\n    hover_name=\"country\",\n    log_x=True,\n    size_max=60,\n)\nfig.show()\n\ntab1, tab2 = st.tabs([\"Streamlit theme (default)\", \"Plotly native theme\"])\nwith tab1:\n    # Use the Streamlit theme.\n    # This is the default. So you can also omit the theme argument.\n    st.plotly_chart(fig, theme=\"streamlit\", use_container_width=True)\nwith tab2:\n    # Use the native Plotly theme.\n    st.plotly_chart(fig, theme=None, use_container_width=True)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"011e2f45-363b-4a42-bc3f-dde955e8bf00\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"011e2f45-363b-4a42-bc3f-dde955e8bf00\")) {                    Plotly.newPlot(                        \"011e2f45-363b-4a42-bc3f-dde955e8bf00\",                        [{\"hovertemplate\":\"<b>%{hovertext}</b><br><br>continent=Asia<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>\",\"hovertext\":[\"Afghanistan\",\"Bahrain\",\"Bangladesh\",\"Cambodia\",\"China\",\"Hong Kong, China\",\"India\",\"Indonesia\",\"Iran\",\"Iraq\",\"Israel\",\"Japan\",\"Jordan\",\"Korea, Dem. Rep.\",\"Korea, Rep.\",\"Kuwait\",\"Lebanon\",\"Malaysia\",\"Mongolia\",\"Myanmar\",\"Nepal\",\"Oman\",\"Pakistan\",\"Philippines\",\"Saudi Arabia\",\"Singapore\",\"Sri Lanka\",\"Syria\",\"Taiwan\",\"Thailand\",\"Vietnam\",\"West Bank and Gaza\",\"Yemen, Rep.\"],\"legendgroup\":\"Asia\",\"marker\":{\"color\":\"#000001\",\"size\":[31889923,708573,150448339,14131858,1318683096,6980412,1110396331,223547000,69453570,27499638,6426679,127467972,6053193,23301725,49044790,2505559,3921278,24821286,2874127,47761980,28901790,3204897,169270617,91077287,27601038,4553009,20378239,19314747,23174294,65068149,85262356,4018332,22211743],\"sizemode\":\"area\",\"sizeref\":366300.86,\"symbol\":\"circle\"},\"mode\":\"markers\",\"name\":\"Asia\",\"orientation\":\"v\",\"showlegend\":true,\"x\":[974.5803384,29796.04834,1391.253792,1713.778686,4959.114854,39724.97867,2452.210407,3540.651564,11605.71449,4471.061906,25523.2771,31656.06806,4519.461171,1593.06548,23348.139730000006,47306.98978,10461.05868,12451.6558,3095.7722710000007,944.0,1091.359778,22316.19287,2605.94758,3190.481016,21654.83194,47143.17964,3970.095407,4184.548089,28718.27684,7458.396326999998,2441.576404,3025.349798,2280.769906],\"xaxis\":\"x\",\"y\":[43.828,75.635,64.062,59.723,72.961,82.208,64.69800000000001,70.65,70.964,59.545,80.745,82.603,72.535,67.297,78.623,77.58800000000002,71.993,74.241,66.803,62.069,63.785,75.64,65.483,71.688,72.777,79.972,72.396,74.143,78.4,70.616,74.249,73.422,62.698],\"yaxis\":\"y\",\"type\":\"scatter\"},{\"hovertemplate\":\"<b>%{hovertext}</b><br><br>continent=Europe<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>\",\"hovertext\":[\"Albania\",\"Austria\",\"Belgium\",\"Bosnia and Herzegovina\",\"Bulgaria\",\"Croatia\",\"Czech Republic\",\"Denmark\",\"Finland\",\"France\",\"Germany\",\"Greece\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Montenegro\",\"Netherlands\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Serbia\",\"Slovak Republic\",\"Slovenia\",\"Spain\",\"Sweden\",\"Switzerland\",\"Turkey\",\"United Kingdom\"],\"legendgroup\":\"Europe\",\"marker\":{\"color\":\"#000002\",\"size\":[3600523,8199783,10392226,4552198,7322858,4493312,10228744,5468120,5238460,61083916,82400996,10706290,9956108,301931,4109086,58147733,684736,16570613,4627926,38518241,10642836,22276056,10150265,5447502,2009245,40448191,9031088,7554661,71158647,60776238],\"sizemode\":\"area\",\"sizeref\":366300.86,\"symbol\":\"circle\"},\"mode\":\"markers\",\"name\":\"Europe\",\"orientation\":\"v\",\"showlegend\":true,\"x\":[5937.029525999998,36126.4927,33692.60508,7446.298803,10680.79282,14619.222719999998,22833.30851,35278.41874,33207.0844,30470.0167,32170.37442,27538.41188,18008.94444,36180.78919,40675.99635,28569.7197,9253.896111,36797.93332,49357.19017,15389.924680000002,20509.64777,10808.47561,9786.534714,18678.31435,25768.25759,28821.0637,33859.74835,37506.41907,8458.276384,33203.26128],\"xaxis\":\"x\",\"y\":[76.423,79.829,79.441,74.852,73.005,75.748,76.486,78.332,79.313,80.657,79.406,79.483,73.33800000000002,81.757,78.885,80.546,74.543,79.762,80.196,75.563,78.098,72.476,74.002,74.663,77.926,80.941,80.884,81.70100000000002,71.777,79.425],\"yaxis\":\"y\",\"type\":\"scatter\"},{\"hovertemplate\":\"<b>%{hovertext}</b><br><br>continent=Africa<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>\",\"hovertext\":[\"Algeria\",\"Angola\",\"Benin\",\"Botswana\",\"Burkina Faso\",\"Burundi\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Congo, Dem. Rep.\",\"Congo, Rep.\",\"Cote d'Ivoire\",\"Djibouti\",\"Egypt\",\"Equatorial Guinea\",\"Eritrea\",\"Ethiopia\",\"Gabon\",\"Gambia\",\"Ghana\",\"Guinea\",\"Guinea-Bissau\",\"Kenya\",\"Lesotho\",\"Liberia\",\"Libya\",\"Madagascar\",\"Malawi\",\"Mali\",\"Mauritania\",\"Mauritius\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"Reunion\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Sierra Leone\",\"Somalia\",\"South Africa\",\"Sudan\",\"Swaziland\",\"Tanzania\",\"Togo\",\"Tunisia\",\"Uganda\",\"Zambia\",\"Zimbabwe\"],\"legendgroup\":\"Africa\",\"marker\":{\"color\":\"#000003\",\"size\":[33333216,12420476,8078314,1639131,14326203,8390505,17696293,4369038,10238807,710960,64606759,3800610,18013409,496374,80264543,551201,4906585,76511887,1454867,1688359,22873338,9947814,1472041,35610177,2012649,3193942,6036914,19167654,13327079,12031795,3270065,1250882,33757175,19951656,2055080,12894865,135031164,798094,8860588,199579,12267493,6144562,9118773,43997828,42292929,1133066,38139640,5701579,10276158,29170398,11746035,12311143],\"sizemode\":\"area\",\"sizeref\":366300.86,\"symbol\":\"circle\"},\"mode\":\"markers\",\"name\":\"Africa\",\"orientation\":\"v\",\"showlegend\":true,\"x\":[6223.367465,4797.231267,1441.284873,12569.85177,1217.032994,430.0706916,2042.09524,706.016537,1704.063724,986.1478792,277.5518587,3632.557798,1544.750112,2082.4815670000007,5581.180998,12154.08975,641.3695236000002,690.8055759,13206.48452,752.7497265,1327.60891,942.6542111,579.2317429999998,1463.249282,1569.331442,414.5073415,12057.49928,1044.770126,759.3499101,1042.581557,1803.151496,10956.99112,3820.17523,823.6856205,4811.060429,619.6768923999998,2013.977305,7670.122558,863.0884639000002,1598.435089,1712.472136,862.5407561000002,926.1410683,9269.657808,2602.394995,4513.480643,1107.482182,882.9699437999999,7092.923025,1056.380121,1271.211593,469.70929810000007],\"xaxis\":\"x\",\"y\":[72.301,42.731,56.728,50.728,52.295,49.58,50.43,44.74100000000001,50.651,65.152,46.462,55.322,48.328,54.791,71.33800000000002,51.57899999999999,58.04,52.947,56.735,59.448,60.022,56.007,46.38800000000001,54.11,42.592,45.678,73.952,59.44300000000001,48.303,54.467,64.164,72.801,71.164,42.082,52.90600000000001,56.867,46.859,76.442,46.242,65.528,63.062,42.56800000000001,48.159,49.339,58.556,39.613,52.517,58.42,73.923,51.542,42.38399999999999,43.487],\"yaxis\":\"y\",\"type\":\"scatter\"},{\"hovertemplate\":\"<b>%{hovertext}</b><br><br>continent=Americas<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>\",\"hovertext\":[\"Argentina\",\"Bolivia\",\"Brazil\",\"Canada\",\"Chile\",\"Colombia\",\"Costa Rica\",\"Cuba\",\"Dominican Republic\",\"Ecuador\",\"El Salvador\",\"Guatemala\",\"Haiti\",\"Honduras\",\"Jamaica\",\"Mexico\",\"Nicaragua\",\"Panama\",\"Paraguay\",\"Peru\",\"Puerto Rico\",\"Trinidad and Tobago\",\"United States\",\"Uruguay\",\"Venezuela\"],\"legendgroup\":\"Americas\",\"marker\":{\"color\":\"#000004\",\"size\":[40301927,9119152,190010647,33390141,16284741,44227550,4133884,11416987,9319622,13755680,6939688,12572928,8502814,7483763,2780132,108700891,5675356,3242173,6667147,28674757,3942491,1056608,301139947,3447496,26084662],\"sizemode\":\"area\",\"sizeref\":366300.86,\"symbol\":\"circle\"},\"mode\":\"markers\",\"name\":\"Americas\",\"orientation\":\"v\",\"showlegend\":true,\"x\":[12779.37964,3822.137084,9065.800825,36319.23501,13171.63885,7006.580419,9645.06142,8948.102923,6025.3747520000015,6873.262326000001,5728.353514,5186.050003,1201.637154,3548.3308460000007,7320.8802620000015,11977.57496,2749.320965,9809.185636,4172.838464,7408.905561,19328.70901,18008.50924,42951.65309,10611.46299,11415.80569],\"xaxis\":\"x\",\"y\":[75.32,65.554,72.39,80.653,78.553,72.889,78.782,78.273,72.235,74.994,71.878,70.259,60.916,70.19800000000001,72.567,76.195,72.899,75.53699999999998,71.752,71.421,78.74600000000002,69.819,78.242,76.384,73.747],\"yaxis\":\"y\",\"type\":\"scatter\"},{\"hovertemplate\":\"<b>%{hovertext}</b><br><br>continent=Oceania<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>\",\"hovertext\":[\"Australia\",\"New Zealand\"],\"legendgroup\":\"Oceania\",\"marker\":{\"color\":\"#000005\",\"size\":[20434176,4115771],\"sizemode\":\"area\",\"sizeref\":366300.86,\"symbol\":\"circle\"},\"mode\":\"markers\",\"name\":\"Oceania\",\"orientation\":\"v\",\"showlegend\":true,\"x\":[34435.367439999995,25185.00911],\"xaxis\":\"x\",\"y\":[81.235,80.204],\"yaxis\":\"y\",\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"candlestick\":[{\"decreasing\":{\"line\":{\"color\":\"#000033\"}},\"increasing\":{\"line\":{\"color\":\"#000032\"}},\"type\":\"candlestick\"}],\"contourcarpet\":[{\"colorscale\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]],\"type\":\"contourcarpet\"}],\"contour\":[{\"colorscale\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]],\"type\":\"contour\"}],\"heatmap\":[{\"colorscale\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]],\"type\":\"heatmap\"}],\"histogram2d\":[{\"colorscale\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]],\"type\":\"histogram2d\"}],\"icicle\":[{\"textfont\":{\"color\":\"white\"},\"type\":\"icicle\"}],\"sankey\":[{\"textfont\":{\"color\":\"#000036\"},\"type\":\"sankey\"}],\"scatter\":[{\"marker\":{\"line\":{\"width\":0}},\"type\":\"scatter\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#000038\"},\"font\":{\"color\":\"#000037\"},\"line\":{\"color\":\"#000039\"}},\"header\":{\"fill\":{\"color\":\"#000040\"},\"font\":{\"color\":\"#000036\"},\"line\":{\"color\":\"#000039\"}},\"type\":\"table\"}],\"waterfall\":[{\"connector\":{\"line\":{\"color\":\"#000036\",\"width\":2}},\"decreasing\":{\"marker\":{\"color\":\"#000033\"}},\"increasing\":{\"marker\":{\"color\":\"#000032\"}},\"totals\":{\"marker\":{\"color\":\"#000034\"}},\"type\":\"waterfall\"}]},\"layout\":{\"coloraxis\":{\"colorscale\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]]},\"colorscale\":{\"diverging\":[[0.0,\"#000021\"],[0.1,\"#000022\"],[0.2,\"#000023\"],[0.3,\"#000024\"],[0.4,\"#000025\"],[0.5,\"#000026\"],[0.6,\"#000027\"],[0.7,\"#000028\"],[0.8,\"#000029\"],[0.9,\"#000030\"],[1.0,\"#000031\"]],\"sequential\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]],\"sequentialminus\":[[0.0,\"#000011\"],[0.1111111111111111,\"#000012\"],[0.2222222222222222,\"#000013\"],[0.3333333333333333,\"#000014\"],[0.4444444444444444,\"#000015\"],[0.5555555555555556,\"#000016\"],[0.6666666666666666,\"#000017\"],[0.7777777777777778,\"#000018\"],[0.8888888888888888,\"#000019\"],[1.0,\"#000020\"]]},\"colorway\":[\"#000001\",\"#000002\",\"#000003\",\"#000004\",\"#000005\",\"#000006\",\"#000007\",\"#000008\",\"#000009\",\"#000010\"]}},\"xaxis\":{\"anchor\":\"y\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"gdpPercap\"},\"type\":\"log\"},\"yaxis\":{\"anchor\":\"x\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"lifeExp\"}},\"legend\":{\"title\":{\"text\":\"continent\"},\"tracegroupgap\":0,\"itemsizing\":\"constant\"},\"margin\":{\"t\":60}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('011e2f45-363b-4a42-bc3f-dde955e8bf00');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n:::\n:::\n\n\n</br>\n\n## ì§€ë„í‘œì‹œ\n\n::: {.cell execution_count=14}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd \n\n#ì§€ë„ ìœ„ì— í‘œì‹œë  ì  ì¢Œí‘œ ê°’ì„ ìœ„ë„ê²½ë„ì— ë‹´ìŠµë‹ˆë‹¤ .\nbase_position =  [37.5073423, 127.0572734]\n#ì¤‘ì‹¬ì ì˜ ìœ„ë„, ê²½ë„ ì¢Œí‘œë¥¼ ë¦¬ìŠ¤íŠ¸ì— ë‹´ìŠµë‹ˆë‹¤.\n\n# base_positionì—, ëœë¤ìœ¼ë¡œ ìƒì„±í•œ ê°’ì„ ë”í•˜ì—¬ 5ê°œì˜ ì¢Œí‘œë¥¼ ë°ì´í„° í”„ë ˆì„ìœ¼ë¡œ ìƒì„±í•˜ì˜€ê³ ,\n# ì»¬ëŸ¼ëª…ì€ ìœ„ë„ :lat  ê²½ë„ lonìœ¼ë¡œ ì§€ì •í•˜ì˜€ìŠµë‹ˆë‹¤. \n\n\nmap_data = pd.DataFrame(\n    np.random.randn(5, 1) / [20, 20] + base_position , \n    columns=['lat', 'lon'])\n# map data ìƒì„± : ìœ„ì¹˜ì™€ ê²½ë„ \n\nprint(map_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         lat         lon\n0  37.425135  126.975066\n1  37.525337  127.075268\n2  37.485133  127.035064\n3  37.486136  127.036067\n4  37.439659  126.989590\n```\n:::\n:::\n\n\nì´ì–´ì„œ ì´ ìœ„ë„ ê²½ë„ ë°ì´í„°ë¥¼ ìŠ¤íŠ¸ë¦¼ë¦¿ ì›¹ í˜ì´ì§€ì— ì§€ë„ë¡œ ë‚˜íƒ€ë‚´ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. </br>\n\n::: {.cell execution_count=15}\n``` {.python .cell-code}\nst.code('st.map(map_data)')\n# ì›¹ì‚¬ì´íŠ¸ì— ì–´ë–¤ ì½”ë“œì¸ì§€ í‘œì‹œí•´ì£¼ê¸° \nst.subheader('Map of Data ')\n# ì œëª© ìƒì„± \nst.map(map_data)\n# ì§€ë„ ìƒì„± \n```\n:::\n\n\nê²°ê³¼ë¬¼\n\n![](src-map.png)\n\n</br>\n\n# st.session_State / st.cache\n\n</br> <https://docs.streamlit.io/library/api-reference/performance/st.cache>\n\n## st.session_state ì„¸ì…˜ ìŠ¤í…Œì´íŠ¸ë€?\n\n**ìƒíƒœê°€ ìê¾¸ ë³€í•˜ëŠ” ê²ƒë“¤ì„ ì„¸ì…˜ìŠ¤í…Œì´íŠ¸ì— ê´€ë¦¬í•´ë‘ë©´ ë°”ë€ŒëŠ” ê°’ì— ë”°ë¼ ë‚´ìš©ì´ ë°”ë€ŒëŠ” ê²ƒë“¤ì„ ê¸°ë¡í•  ìˆ˜ ìˆë‹¤.**\n\n\\*\\* ì•„ì£¼ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. \\*\\*\n\n## st.session_state í™œìš©\n\n![why we use sessionstate](src-whysession_state.png)\n\nì„¸ì…˜ìŠ¤í…Œì´íŠ¸ì— keyê°’ì˜ ì´ˆê¸°ê°’ì´ ì—†ìœ¼ë©´, ì´ˆê¸°ê°’ì„ ìƒì„±í•˜ì—¬ ë†“ëŠ” ì‘ì—…ì„ ifë¬¸ì„ í†µí•´ ì§„í–‰í•©ë‹ˆë‹¤.\n\nì„¸ì…˜ìŠ¤í…Œì´íŠ¸ì— ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì¸í’‹ì— ë”°ë¼ì„œ dataframeì´ ì¬ê°€ê³µ ë˜ëŠ”ë° ì´ ê°’ì´ interactiveí•˜ê²Œ ì§€ì •ë˜ê²Œ í•˜ê¸° ìœ„í•´ st.session_stateê°’ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n::: {.cell execution_count=16}\n``` {.python .cell-code}\n# ì˜ˆì‹œì½”ë“œ \n# import streamlit as st\n\n\n\n# if 'final_dataframe' not in st.session_state:\n#   # session state ì— final ì´ë¼ëŠ” ê°’ì´ ì—†ìœ¼ë©´, \n#   st.session_state['final_dataframe']= df\n#   # ì´ˆê¸° ê°’ ì„¤ì • : session_stateì— final_dataframeí‚¤ ê°’ì— ì´ˆê¸°ê°’ ë°ì´í„°ë¥¼ ì§‘ì–´ë„£ìŠµë‹ˆë‹¤ .\n\n# #ì•„ë˜ ì½”ë“œëŠ” dfì˜ í…Œì´ë¸” ê°’ì´ ë°”ë€Œë”ë¼ë„ interactiveí•˜ê²Œ ì—°ë™ë˜ì„œ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤\n# st.table(df)\n\n# #  ì•„ë˜ ì½”ë“œëŠ”  ì´ì œ dataframeê°€ ì¡°ì‘ë  ë•Œ ë§ˆë‹¤ session_stateê°ì²´ ì•ˆì— final_dataframeê°’ì„ ë³€ê²½í•˜ë©´, \n# #  ìˆ˜ì • ë  ë•Œ  ê³„ì† ë°”ë€Œì–´ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤. \n# st.table(st.session_state.final_dataframe)\n\n```\n:::\n\n\n## cache ë€ ë¬´ì—‡ì¸ê°€?\n\n![ìºì‹±ê¸°ëŠ¥ì˜ í•„ìš”ì„±](src-whatiscache.png)\n\nìºì‹±ì— ê´€í•œ ê°„ë‹¨í•œ ê°œë…ì€ ì£¼ë¬¸ì´ ë“¤ì–´ì™”ì„ ë•Œ ìš°ë¦¬ê°€ ë§Œë“¤ê¸° ì‹œì‘í•˜ë©´ ì½”ë“œê°€ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚´ëŠ”ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ìœ ì €ê°€ ê²°ê³¼ë¬¼ì„ ì˜¤ëœì‹œê°„ ê¸°ë‹¬ë ¤ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ ë§Œë“¤ì–´ë‚´ëŠ”ë° ì˜¤ë˜ê±¸ë¦¬ëŠ” ê²°ê³¼ë¬¼ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ê³ , ë³´ì´ì§€ ì•ŠëŠ” ê³³ì— ìºì‹±í•˜ì—¬ í•„ìš”í• ë•Œ ì°¾ì•„ êº¼ë‚´ëŠ” ê²ƒì„ cacheê¸°ëŠ¥ì´ë¼ê³  ê°„ë‹¨íˆ ì„¤ëª…í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n## streamlit ì—ì„œ cache ê¸°ëŠ¥ ì‚¬ìš©í•˜ê¸°\n\nstreamlitì—ì„œëŠ” ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…: ë°ì´í„° ë¡œë“œ ë“±ì„ í• ë•Œ ìœ„ì— @st.cacheë¥¼ ì¶”ê°€í•˜ì—¬ ìºì‹±í•  ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆë‹¤.\n\n::: {.cell execution_count=17}\n``` {.python .cell-code}\nimport streamlit as st\nimport pandas as pd \n\nfile_path = '~~~filepath'\n@st.cache\ndef load_data():\n  data = pd.read_csv(file_path)\n  return data\n\n```\n:::\n\n\ní° ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê±°ë‚˜, ì‹¤í–‰ì´ ì˜¤ë˜ê±¸ë¦¬ëŠ” ë³µì¡í•œ ì—°ì‚°ì„ í•´ì•¼í•  ë•Œ cacheê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ìš©ì´í•˜ë‹¤.\n\n## ë¡œë”©ìƒíƒœ êµ¬í˜„\n\n### st.progress\n\n::: {.cell execution_count=18}\n``` {.python .cell-code}\nimport time \n\n# ë°©ë²• 1 progress bar \nlatest_iteration = st.empty()\nbar = st.progress(0)\n\nfor i in range(100):\n  # Update the progress bar with each iteration.\n  latest_iteration.text(f'Iteration {i+1}')\n  bar.progress(i + 1)\n  time.sleep(0.05)\n  # 0.05 ì´ˆ ë§ˆë‹¤ 1ì”©ì¦ê°€\n\nst.balloons()\n# ì‹œê°„ ë‹¤ ë˜ë©´ í’ì„  ì´í™íŠ¸ ë³´ì—¬ì£¼ê¸° \n```\n:::\n\n\nì½”ë“œ ìˆ˜í–‰ ì†Œìš”ì‹œê°„ì´ ê¸´ ê²½ìš°, progress barì™€ streamlitì˜ spinnerë¥¼ í†µí•´ì„œ ë¡œë”©í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤!\n\n![](src-progress.png) ![](src-progressbar2.png)\n\n### st. spinner ì‚¬ìš©\n\n::: {.cell execution_count=19}\n``` {.python .cell-code}\n#ë°©ë²•2  st.spinner ì‚¬ìš© \nimport time \n\nwith st.spinner('Wait for it...'):\n  time.sleep(5)\n  st.success('Done!') \n```\n:::\n\n\n![](src-spinner.png) ![](src-spinner2.png)\n\n# ìŠ¤íŠ¸ë¦¼ë¦¿ì˜ ë‹¨ì \n\n## ê·¼ë³¸ì  í•œê³„\n\nstreamlit ì—ì„œ ì œê³µí•˜ëŠ” UIë“¤ì´ ëŒ€ë¶€ë¶„ ì˜ˆì˜ì§€ë§Œ, ë””í…Œì¼ì ìœ¼ë¡œ ë§˜ì— ë“¤ì§€ ì•Šì„ ìˆ˜ê°€ ìˆë‹¤.\n\n![](src-css.png)\n\nì˜ˆë¥¼ ë“¤ì–´ 4.87ë¡œ í‘œì‹œëœ ë¶€ë¶„ì˜ í°íŠ¸ê°€ ë§˜ì—ë“¤ì§€ ì•ŠëŠ”ë‹¤ê³  í•˜ì. ê·¸ë ‡ë‹¤ë©´ streamlitë¥¼ markdownì„ í†µí•´ì„œ styleì„ ì§ì ‘ ìˆ˜ì •í•´ì£¼ì–´ì•¼í•œë‹¤.\n\n## ê·¹ë³µë°©ì•ˆ : CSS hack\n\nì´ ì‘ì—…ì„ streamlit CSS hackì´ë¼ê³  í•œë‹¤\n\n![](src-csshack.png)\n\në¸Œë¼ìš°ì €ì— ê²€ì‚¬ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ cssí•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì§ì ‘ style tagë¥¼ ë„£ì–´ì„œ ìˆ˜ì •í•˜ë©´ ëœë‹¤.\n\nì•„ë˜ ìœ íŠœë¸Œë¥¼ í†µí•´ì„œ ë”ìš± ìì„¸í•œ ë‚´ìš©ì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<https://www.youtube.com/watch?v=gr_KyGfO_eU>\n\n# ì†Œê°œí•˜ì§€ ëª»í–ˆì§€ë§Œ ì¤‘ìš”í•œ ê¸°ëŠ¥\n\n-   DBë¥¼ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ streamlitì€ ë‹¤ì–‘í•œ DBMS ì—°ê²°ì„ ì§€ì›í•©ë‹ˆë‹¤.</br> ì œê³µí•˜ëŠ” tutorialì„ í†µí•´ ì—°ê²°í•´ë³´ì„¸ìš” </br> <https://docs.streamlit.io/knowledge-base/tutorials/databases>\n\n-   ë°°í¬í•˜ëŠ” ë¶€ë¶„\\\n    streamlitì„ ë¡œì»¬ì—ì„œ ë§ê³  ë§í¬ë¥¼ ë§Œë“¤ì–´ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ <https://docs.streamlit.io/knowledge-base/tutorials/deploy>\n\n# íŒŒì´ì¬ streamlitì„ í™œìš©í•œ ì„¤ë¬¸ì¡°ì‚¬ ëŒ€ì‹œë³´ë“œ ì œì‘ê¸°\n\n<iframe src=\"streamlit-íšŒê³ .html\" width=\"900\" height=\"450\" style=\"border: none;\">\n\n</iframe>\n\n",
    "supporting": [
      "index_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n        <script type=\"text/javascript\">\n        window.PlotlyConfig = {MathJaxConfig: 'local'};\n        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\n        if (typeof require !== 'undefined') {\n        require.undef(\"plotly\");\n        requirejs.config({\n            paths: {\n                'plotly': ['https://cdn.plot.ly/plotly-2.18.0.min']\n            }\n        });\n        require(['plotly'], function(Plotly) {\n            window._Plotly = Plotly;\n        });\n        }\n        </script>\n        \n"
      ]
    }
  }
}